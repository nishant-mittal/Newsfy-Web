(this.webpackJsonpnewsfy=this.webpackJsonpnewsfy||[]).push([[0],{29:function(e,t,a){e.exports=a(66)},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),l=a.n(r),s=a(13),o=a.n(s),i=a(27),m=a(3),u=(a(35),a(10)),h=a(4),d=Object(h.a)(),f=(a(36),function(e){var t=e.setSearchTerm,a=(e.setRenderNews,Object(n.useState)("")),r=Object(m.a)(a,2),l=r[0],s=r[1],o=function(e){e.preventDefault(),d.push("/search"),t(l)};return c.a.createElement("div",{className:"input-container"},c.a.createElement("div",{className:"search",onSubmit:o},c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"Search for news...",onChange:function(e){return s(e.target.value)},value:l})),c.a.createElement(u.a,{to:"/article"},c.a.createElement("i",{className:"fas fa-search",onClick:o,style:{cursor:"pointer"}}))))}),p=(a(42),function(e){var t=e.setSearchTerm;return c.a.createElement("div",{className:"header-component"},c.a.createElement(u.a,{to:"/"},c.a.createElement("h1",{className:"website-name"},"Newsfy")),c.a.createElement(f,{className:"search-component",setSearchTerm:t}))}),E=a(8),v=a.n(E),b=(a(60),function(e){var t=e.newsData,a=t.title.includes(t.source.name)?t.title.slice(0,t.title.search(t.source.name)-2):t.title;return c.a.createElement("div",{className:"article"},c.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:t.urlToImage,style:{width:"100%"},alt:t.title}),c.a.createElement("div",{className:"article-text"},c.a.createElement("p",{className:"article-news-source"},t.source.name),c.a.createElement("p",{className:"article-news-text"},a)),c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("img",{src:t.urlToImage,style:{width:"100%"},alt:t.title})))))}),g=(a(61),function(e){var t=e.newsData.map((function(e){return c.a.createElement(b,{newsData:e,key:e.url})}));return c.a.createElement("div",{className:"article-list"},c.a.createElement("div",{className:"articles"},t))}),w=(a(62),function(e){var t=e.url,a=e.title,r=Object(n.useState)([]),l=Object(m.a)(r,2),s=l[0],o=l[1];return Object(n.useEffect)((function(){v.a.get(t,{params:{apiKey:"bef75161a87c4cf199c1c342e6dbb452"}}).then((function(e){o(e.data.articles)}))}),[t]),s.length>0?c.a.createElement("div",{className:"news"},c.a.createElement("h2",{style:{margin:"0.8em 0"}},a),c.a.createElement(g,{newsData:s})):null}),y=function(e){var t=e.location;return c.a.createElement("div",null,c.a.createElement(w,{url:"https://newsapi.org/v2/top-headlines?language=en",title:"World news"}),c.a.createElement(w,{url:"https://newsapi.org/v2/top-headlines?country=".concat(t),title:"Local news"}))},N=(a(63),function(e){var t=e.lat,a=e.lon,r=Object(n.useState)(),l=Object(m.a)(r,2),s=l[0],o=l[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),h=u[0],d=u[1],f=new Date,p="".concat(f.getDate()).concat(["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","th"][f.getDate()-1]," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][f.getMonth()],", ").concat(f.getFullYear());return Object(n.useEffect)((function(){v.a.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:t,lon:a,appid:"19dc6f2c4e8a09557875cf37ffbe85b7",units:"metric"}}).then((function(e){o(e.data),d(!0)}))}),[t,a]),h?c.a.createElement("div",{className:"weather"},c.a.createElement("h2",{className:"date"},p),c.a.createElement("div",{className:"weather-component"},c.a.createElement("div",{className:"weather-icon"},c.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(s.weather[0].icon,"@2x.png"),alt:s.weather[0].description})),c.a.createElement("div",{className:"weather-details"},c.a.createElement("h2",null,Math.round(s.main.temp)," ",c.a.createElement("span",{style:{color:"#787878"}},"\u2103")),c.a.createElement("p",null,s.weather[0].description),c.a.createElement("p",{style:{opacity:"0.6"}},s.name)))):null}),j=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){v.a.get("https://json.geoiplookup.io/").then((function(e){c(e.data)}))}),[]),a},O=(a(64),function(e){var t=e.title,a=e.data,n=e.type,r=function(e){if(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}if(0===e)return e};return c.a.createElement("div",{className:"covid"},c.a.createElement("p",{style:{fontSize:"1rem"}},t),c.a.createElement("div",{className:"case"},c.a.createElement("p",null,"Confirmed"),c.a.createElement("p",{style:{color:"#E86F18",fontWeight:"bold"}},r(a["".concat(n,"Confirmed")]))),c.a.createElement("div",{className:"case"},c.a.createElement("p",null,"Deaths"),c.a.createElement("p",{style:{color:"#E84118",fontWeight:"bold"}},r(a["".concat(n,"Deaths")]))),c.a.createElement("div",{className:"case"},c.a.createElement("p",null,"Recovered"),c.a.createElement("p",{style:{color:"#0AA523",fontWeight:"bold"}},r(a["".concat(n,"Recovered")]))))}),S=(a(65),function(e){var t=e.location,a=Object(n.useState)({}),r=Object(m.a)(a,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){v.a.get("https://api.covid19api.com/summary").then((function(e){var a=function(e,t){return e.find((function(e){return e.CountryCode===t}))}(e.data.Countries,t.country_code);s(a)}))}),[t]),l?c.a.createElement("div",{className:"covid-list"},c.a.createElement("h2",null,"COVID-19 cases in ".concat(t.country_name)),c.a.createElement("div",{className:"covid-container"},c.a.createElement(O,{title:"Today",data:l,type:"New"}),c.a.createElement(O,{title:"Total",data:l,type:"Total"}))):null}),D=a(1),x=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),s=Object(m.a)(l,2),u=s[0],h=s[1],f=Object(n.useState)({}),E=Object(m.a)(f,2),b=E[0],w=E[1],O=j();return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://newsapi.org/v2/everything?q=".concat(a),{params:{apiKey:"bef75161a87c4cf199c1c342e6dbb452"}});case 2:t=e.sent,w(t.data.articles),h(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),c.a.createElement(D.b,{history:d},c.a.createElement("div",{className:"app"},c.a.createElement(p,{setSearchTerm:r}),c.a.createElement("div",{className:"info-cards"},c.a.createElement(N,{lat:O.latitude,lon:O.longitude}),c.a.createElement(S,{location:O})),c.a.createElement(D.a,{path:"/search",exact:!0,component:function(){return c.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},c.a.createElement("h2",{style:{width:"90vw",color:"red",margin:"0.8em 0"}},"Results for ".concat(a)),u?c.a.createElement(g,{newsData:b}):null)}}),c.a.createElement(y,{location:O.country_code})))};l.a.render(c.a.createElement(x,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.a4bb7734.chunk.js.map