{"version":3,"sources":["history.js","components/Search/Search.js","components/Header/Header.js","components/Article/Article.js","components/ArticleList/ArticleList.js","components/News/News.js","components/NewsList/NewsList.js","components/Weather/Weather.js","components/hooks/useLocation.js","components/Covid/Covid.js","components/CovidList/CovidList.js","components/App.js","index.js"],"names":["createBrowserHistory","Search","setSearchTerm","setRenderNews","useState","term","setTerm","onFormSubmit","e","preventDefault","history","push","className","onSubmit","type","placeholder","onChange","target","value","to","onClick","style","cursor","Header","Article","newsData","title","includes","source","name","slice","search","href","url","rel","src","urlToImage","width","alt","ArticleList","renderNews","map","news","key","News","setNewsData","useEffect","axios","get","params","apiKey","then","res","data","articles","length","margin","NewsList","location","Weather","lat","lon","setdata","load","setLoad","date","Date","dateFormatted","getDate","getMonth","getFullYear","appid","units","weather","icon","description","Math","round","main","temp","color","opacity","useLocation","setData","Covid","numberFormatter","num","num_parts","toString","split","replace","join","fontSize","fontWeight","CovidList","countryData","setCountryData","country","find","d","CountryCode","findCountry","Countries","country_code","country_name","App","searchTerm","a","fetchData","latitude","longitude","path","exact","component","display","flexDirection","alignItems","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4bb7734.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport history from \"../../history\";\nimport \"./Search.css\";\n\nconst Search = ({ setSearchTerm, setRenderNews }) => {\n  const [term, setTerm] = useState(\"\");\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n    //history.push(`/${term}`);\n    history.push(`/search`);\n    setSearchTerm(term);\n  };\n\n  return (\n    <div className=\"input-container\">\n      <div className=\"search\" onSubmit={onFormSubmit}>\n        <form>\n          <input\n            type=\"text\"\n            placeholder=\"Search for news...\"\n            onChange={(e) => setTerm(e.target.value)}\n            value={term}\n          />\n        </form>\n        <Link to=\"/article\">\n          <i\n            className=\"fas fa-search\"\n            onClick={onFormSubmit}\n            style={{ cursor: \"pointer\" }}\n          ></i>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport Search from \"../Search/Search\";\nimport \"./Header.css\";\nimport { Link } from \"react-router-dom\";\n\nconst Header = ({ setSearchTerm }) => {\n  return (\n    <div className=\"header-component\">\n      <Link to=\"/\">\n        <h1 className=\"website-name\">Newsfy</h1>\n      </Link>\n      <Search className=\"search-component\" setSearchTerm={setSearchTerm} />\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./Article.css\";\n\nconst Article = ({ newsData }) => {\n  const title = newsData.title.includes(newsData.source.name)\n    ? newsData.title.slice(0, newsData.title.search(newsData.source.name) - 2)\n    : newsData.title;\n\n  return (\n    <div className=\"article\">\n      <a href={newsData.url} target=\"_blank\" rel=\"noopener noreferrer\">\n        <img\n          src={newsData.urlToImage}\n          style={{ width: \"100%\" }}\n          alt={newsData.title}\n        />\n\n        <div className=\"article-text\">\n          <p className=\"article-news-source\">{newsData.source.name}</p>\n          <p className=\"article-news-text\">{title}</p>\n        </div>\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <img\n              src={newsData.urlToImage}\n              style={{ width: \"100%\" }}\n              alt={newsData.title}\n            />\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n};\n\nexport default Article;\n","import React from \"react\";\nimport Article from \"../Article/Article\";\nimport \"./ArticleList.css\";\n\nconst ArticleList = ({ newsData }) => {\n  const renderNews = newsData.map((news) => (\n    <Article newsData={news} key={news.url} />\n  ));\n\n  return (\n    <div className=\"article-list\">\n      <div className=\"articles\">{renderNews}</div>\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ArticleList from \"../ArticleList/ArticleList\";\nimport \"./News.css\";\n\nconst News = ({ url, title }) => {\n  const [newsData, setNewsData] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(url, {\n        params: {\n          apiKey: \"bef75161a87c4cf199c1c342e6dbb452\",\n        },\n      })\n      .then((res) => {\n        setNewsData(res.data.articles);\n      });\n  }, [url]);\n\n  return newsData.length > 0 ? (\n    <div className=\"news\">\n      <h2 style={{ margin: \"0.8em 0\" }}>{title}</h2>\n      <ArticleList newsData={newsData} />\n    </div>\n  ) : null;\n};\n\nexport default News;\n","import React from \"react\";\nimport News from \"../News/News\";\n\nconst NewsList = ({ location }) => {\n  return (\n    <div>\n      <News\n        url=\"https://newsapi.org/v2/top-headlines?language=en\"\n        title=\"World news\"\n      />\n      <News\n        url={`https://newsapi.org/v2/top-headlines?country=${location}`}\n        title=\"Local news\"\n      />\n    </div>\n  );\n};\n\nexport default NewsList;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Weather.css\";\nimport axios from \"axios\";\n\nconst Weather = ({ lat, lon }) => {\n  const [data, setdata] = useState();\n  const [load, setLoad] = useState(false);\n\n  const date = new Date();\n  const dayPrefix = [\n    \"st\",\n    \"nd\",\n    \"rd\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"st\",\n    \"nd\",\n    \"rd\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n    \"th\",\n  ];\n  const months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n  const dateFormatted = `${date.getDate()}${dayPrefix[date.getDate() - 1]} ${\n    months[date.getMonth()]\n  }, ${date.getFullYear()}`;\n\n  useEffect(() => {\n    axios\n      .get(\"https://api.openweathermap.org/data/2.5/weather\", {\n        params: {\n          lat: lat,\n          lon: lon,\n          appid: \"19dc6f2c4e8a09557875cf37ffbe85b7\",\n          units: \"metric\",\n        },\n      })\n      .then((res) => {\n        setdata(res.data);\n        setLoad(true);\n      });\n  }, [lat, lon]);\n\n  return load ? (\n    <div className=\"weather\">\n      <h2 className=\"date\">{dateFormatted}</h2>\n      <div className=\"weather-component\">\n        <div className=\"weather-icon\">\n          <img\n            src={`http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`}\n            alt={data.weather[0].description}\n          />\n        </div>\n        <div className=\"weather-details\">\n          <h2>\n            {Math.round(data.main.temp)}{\" \"}\n            <span style={{ color: \"#787878\" }}>&#8451;</span>\n          </h2>\n          <p>{data.weather[0].description}</p>\n          <p style={{ opacity: \"0.6\" }}>{data.name}</p>\n        </div>\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default Weather;\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst useLocation = () => {\n  const [data, setData] = useState({});\n\n  useEffect(() => {\n    axios.get(\"https://json.geoiplookup.io/\").then((res) => {\n      setData(res.data);\n    });\n  }, []);\n\n  return data;\n};\n\nexport default useLocation;\n","import React from \"react\";\nimport \"./Covid.css\";\n\nconst Covid = ({ title, data, type }) => {\n  const numberFormatter = (num) => {\n    if (num) {\n      let num_parts = num.toString().split(\".\");\n      num_parts[0] = num_parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      return num_parts.join(\".\");\n    }\n\n    if (num === 0) {\n      return num;\n    }\n  };\n\n  return (\n    <div className=\"covid\">\n      <p style={{ fontSize: \"1rem\" }}>{title}</p>\n      <div className=\"case\">\n        <p>Confirmed</p>\n        <p style={{ color: \"#E86F18\", fontWeight: \"bold\" }}>\n          {numberFormatter(data[`${type}Confirmed`])}\n        </p>\n      </div>\n      <div className=\"case\">\n        <p>Deaths</p>\n        <p style={{ color: \"#E84118\", fontWeight: \"bold\" }}>\n          {numberFormatter(data[`${type}Deaths`])}\n        </p>\n      </div>\n      <div className=\"case\">\n        <p>Recovered</p>\n        <p style={{ color: \"#0AA523\", fontWeight: \"bold\" }}>\n          {numberFormatter(data[`${type}Recovered`])}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Covid;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Covid from \"../Covid/Covid\";\nimport \"./CovidList.css\";\n\nconst findCountry = (data, country) => {\n  return data.find((d) => d.CountryCode === country);\n};\n\nconst CovidList = ({ location }) => {\n  const [countryData, setCountryData] = useState({});\n\n  useEffect(() => {\n    axios.get(\"https://api.covid19api.com/summary\").then((res) => {\n      const country = findCountry(res.data.Countries, location.country_code);\n      setCountryData(country);\n    });\n  }, [location]);\n\n  return countryData ? (\n    <div className=\"covid-list\">\n      <h2>{`COVID-19 cases in ${location.country_name}`}</h2>\n      <div className=\"covid-container\">\n        <Covid title=\"Today\" data={countryData} type=\"New\" />\n        <Covid title=\"Total\" data={countryData} type=\"Total\" />\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default CovidList;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"./Header/Header\";\nimport NewsList from \"../components/NewsList/NewsList\";\nimport axios from \"axios\";\nimport ArticleList from \"./ArticleList/ArticleList\";\nimport Weather from \"./Weather/Weather\";\nimport useLocation from \"./hooks/useLocation\";\nimport CovidList from \"./CovidList/CovidList\";\nimport { Router, Route } from \"react-router-dom\";\nimport history from \"../history\";\n\nconst App = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [renderNews, setRenderNews] = useState(false);\n  const [newsData, setNewsData] = useState({});\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const data = await axios.get(\n        `https://newsapi.org/v2/everything?q=${searchTerm}`,\n        {\n          params: {\n            apiKey: \"bef75161a87c4cf199c1c342e6dbb452\",\n          },\n        }\n      );\n\n      setNewsData(data.data.articles);\n\n      setRenderNews(true);\n    };\n\n    fetchData();\n  }, [searchTerm]);\n\n  return (\n    <Router history={history}>\n      <div className=\"app\">\n        <Header setSearchTerm={setSearchTerm} />\n        <div className=\"info-cards\">\n          <Weather lat={location.latitude} lon={location.longitude} />\n          <CovidList location={location} />\n        </div>\n        <Route\n          path={`/search`}\n          exact\n          component={() => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n              }}\n            >\n              <h2\n                style={{ width: \"90vw\", color: \"red\", margin: \"0.8em 0\" }}\n              >{`Results for ${searchTerm}`}</h2>\n              {renderNews ? <ArticleList newsData={newsData} /> : null}\n            </div>\n          )}\n        />\n\n        {/* <Route\n          path=\"/\"\n          exact\n          component={() => <NewsList location={location.country_code} />}\n        /> */}\n        <NewsList location={location.country_code} />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}